(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{166:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return n}))},167:function(t,e,r){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",(function(){return o}))},168:function(t,e,r){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.d(e,"a",(function(){return n}))},169:function(t,e,r){"use strict";function n(t,p){return(n=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}r.d(e,"a",(function(){return o}))},170:function(t,e,r){"use strict";var n=r(23);function o(t,e){return!e||"object"!==Object(n.a)(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}r.d(e,"a",(function(){return o}))},171:function(t,e,r){"use strict";r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return c})),r.d(e,"a",(function(){return f})),r.d(e,"b",(function(){return l}));var n=r(34);r(73),r(35),r(25),r(107),r(56),r(106);function o(t,e){if(t){var head=document.head,script=document.createElement("script");script.async=!1,script.type="text/javascript",script.charset="utf-8",script.src=t,head.insertBefore(script,head.firstChild),e&&script.addEventListener("load",e,!1)}}function c(t,path,e,r){for(var n=path.split("."),cursor=t;n.length>1;){var o=n.shift();if(void 0===o)throw new Error("wrong_value_of_path");if(/\d+/.test(o))cursor=cursor[parseInt(o,10)];else cursor=cursor[o]}var c=n.shift();if(void 0===c)throw new Error("wrong_value_of_path");r?r(cursor,c,e):cursor[c]=e}function f(t){try{var e=window.location.search.replace(/^\?/,"");if(0===e.length)return"";var r=e.split("&"),o=!0,c=!1,f=void 0;try{for(var l,d=r[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var h=l.value.split("="),v=Object(n.a)(h,2),m=v[0],y=v[1];if(m===t)return y}}catch(t){c=!0,f=t}finally{try{o||null==d.return||d.return()}finally{if(c)throw f}}return""}catch(t){return""}}function l(t){var e=document.scrollingElement||document.documentElement,r=!1,n=function(){var n=0,o=0;!function c(){if(!r){if(Math.abs(e.scrollTop-t)<10||t>e.scrollTop&&e.scrollTop+window.screen.height+10>document.body.clientHeight){if(++n>20)return}else e.scrollTop=t,n=0;++o<60&&window.requestAnimationFrame(c)}}()};document.addEventListener("touchstart",(function t(){r=!0,document.removeEventListener("touchstart",t)}),!1),"complete"===document.readyState?n():document.addEventListener("DOMContentLoaded",n,!1)}},172:function(t,e,r){},174:function(t,e,r){var n=r(6),o=r(175)(!1);n(n.S,"Object",{values:function(t){return o(t)}})},175:function(t,e,r){var n=r(7),o=r(19),c=r(15),f=r(38).f;t.exports=function(t){return function(e){for(var r,l=c(e),d=o(l),h=d.length,i=0,v=[];h>i;)r=d[i++],n&&!f.call(l,r)||v.push(t?[r,l[r]]:l[r]);return v}}},176:function(t,e,r){"use strict";var n=r(172);r.n(n).a},179:function(t,e,r){"use strict";r.r(e);r(74),r(35),r(54);function n(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=r(36),c=(r(25),r(18),r(174),r(55),r(39),r(5)),f=r(166),l=r(167),d=r(170),h=r(168),v=r(169);function m(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c}var y,w=r(37),k=function(t){function e(){return Object(f.a)(this,e),Object(d.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(v.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=arguments[0];return t("div",{class:"disclaimer"},[t("div",{class:"placeholder"}),t("div",{class:"text"},["橙子建站仅向商家提供技术服务"])])}}]),e}(w.Vue),O=k=m([w.Component],k),j=r(171),x=375,B=667;function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(source,!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(source).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}!function(t){t.Normal="0",t.Slide="114"}(y||(y={}));var D=function(t){function e(){var t;return Object(f.a)(this,e),(t=Object(d.a)(this,Object(h.a)(e).apply(this,arguments))).floatNodes={},t.viewportHeight=B,t.viewportWidth=x,t}var m;return Object(v.a)(e,t),Object(l.a)(e,[{key:"created",value:function(){"undefined"!=typeof window&&(this.viewportHeight=window.innerHeight,this.viewportWidth=window.innerWidth,this.isInIframe=window.self!==window.top)}},{key:"mounted",value:(m=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isSlide){t.next=7;break}return t.next=3,r.e(7).then(r.t.bind(null,178,7));case 3:e=t.sent,n=e.Swiper,o=new n({data:this.$refs.xrBricks.map((function(t){return{content:t.$el}})),container:this.$refs.bricksContainer,keepDefaultClasses:["frame-event-bind","swiper-keep-default"],transition:{name:"slide",duration:300}}),this.isInIframe&&(window.addEventListener("message",(function(t){switch(t.data.name){case"swipePrev":o.swipePrev();break;case"swipeNext":o.swipeNext()}})),o.on("swipeChanged",(function(){var t={name:"swipeChanged",index:o.getCurrentIndex()};window.parent.postMessage(t,"*")})));case 7:"1"===Object(j.a)("form_scroll")&&this.formScroll();case 9:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"beforeMount",value:function(){var t=this;window.addEventListener("resize",(function(){var e=document.activeElement.tagName.toLocaleLowerCase();/input|textarea/.test(e)||(t.viewportHeight=window.innerHeight,t.viewportWidth=window.innerWidth)}))}},{key:"renderStreamBricks",value:function(){var t=this,e=this.$createElement;return e("div",{ref:"bricksContainer",class:"stream-bricks",style:this.containerStyle},[this.streamBricks.map((function(r,n){return e("xr-brick",{ref:"xrBricks",refInFor:!0,key:r.brickIndex,attrs:{data:r,getBrick:t.getBrick},on:{updateAttribute:t.updateAttribute,updateFloatNode:t.updateFloatNode}},[t.isSlide&&n===t.streamBricks.length-1&&e("disclaimer")])})),this.floatBricks.some((function(t){return"bottom"===t.float}))?e("div",{class:"float-brick__blank--bottom"}):null])}},{key:"renderFloatBricks",value:function(t){var e=this;return[t("div",{class:"float-bricks"},[this.floatBricks.map((function(r){return t("xr-brick",{class:"float-brick",key:r.brickIndex,attrs:{data:r,getBrick:e.getBrick},on:{updateAttribute:e.updateAttribute,updateFloatNode:e.updateFloatNode}})})),Object.values(this.floatNodes).map((function(e){return t(e.tag,_({},e,{style:_({},e.style,{pointerEvents:"auto"})}))}))]),this.hasFloatBottomBrick&&t("div",{class:"float-brick__shim"}),0===this.floatBricks.length&&t("disclaimer")]}},{key:"render",value:function(t){return t("div",{class:"app"},[this.renderStreamBricks(),!this.isSlide&&this.renderFloatBricks(t),t("xr-re-convert-dialog"),t("xr-base-ui")])}},{key:"getBrick",value:function(t){return this.pageData[t]}},{key:"updateAttribute",value:function(t){var e=t.brickIndex,path=t.path,r=t.value;Object(j.d)(this.pageData[e],path,r)}},{key:"updateFloatNode",value:function(t){var e=t.brickIndex,r=t.node;this.floatNodes.hasOwnProperty(e)&&this.floatNodes[e].key&&this.floatNodes[e].key===r.key||(this.floatNodes=_({},this.floatNodes,Object(o.a)({},e,r)))}},{key:"getMdlTop",value:function(t){var e=this,r=this.streamBrickIndexes.indexOf(t);return-1===r?0:this.streamBrickIndexes.slice(0,r).reduce((function(t,r){return t+e.getBrick(r).height}),0)}},{key:"formScroll",value:function(){var t=this,e=Object.values(this.pageData).filter((function(t){return"XrForm"===t.name}));if(0!==e.length){var r=e.map((function(e){return e.parent?(t.getMdlTop(e.parent)+e.y)*(document.body.clientWidth/x):0}));Object(j.b)(Math.min.apply(Math,n(r)))}}},{key:"pageData",get:function(){return this.csrData||this.ssrData||window.__data}},{key:"isSlide",get:function(){return"slide"===this.pageData.meta.mode}},{key:"metaChildren",get:function(){return this.pageData.meta.children.map(this.getBrick)}},{key:"streamBricks",get:function(){var t=this;return this.metaChildren.filter((function(e){if(!e||"none"!==e.float)return!1;if(e.mdlTabIndex){var r=t.getBrick(e.mdlTabIndex);if(e.brickIndex!==r.activeMdlIndex)return!1}return!0})).map((function(e){return t.isSlide?_({},e,{height:t.viewportHeight*x/t.viewportWidth}):e}))}},{key:"streamBrickIndexes",get:function(){return this.streamBricks.map((function(t){return t.brickIndex}))}},{key:"containerStyle",get:function(){var style={};return this.isSlide?style.height=this.viewportHeight+"px":(style.paddingTop=this.offsetTop,style.paddingBottom=this.offsetBottom),style}},{key:"floatBricks",get:function(){return this.metaChildren.filter((function(t){return t&&"none"!==t.float}))}},{key:"offsetTop",get:function(){var t=this.pageData.meta.paddingTop;return this.$r(t||0)}},{key:"offsetBottom",get:function(){var t=this.pageData.meta.paddingBottom;return this.$r(t||0)}},{key:"hasFloatBottomBrick",get:function(){return this.metaChildren.some((function(t){return t&&"bottom"===t.float}))}}]),e}(w.Vue);m([Object(w.Prop)()],D.prototype,"csrData",void 0);var E=D=m([Object(w.Component)({components:{Disclaimer:O},asyncData:function(t){0}})],D),I=(r(176),r(50)),component=Object(I.a)(E,void 0,void 0,!1,null,null,null);e.default=component.exports}}]);