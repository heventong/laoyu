this.Clue=this.Clue||{},this.Clue.Consult=function(){"use strict";function t(t){return!!t&&"Function"===Object.prototype.toString.call(t).slice(8,-1)}var n=function(){function n(t,n){void 0===n&&(n=document.querySelector("body")),this.consultData=t,this.container=n,this.init(this.consultData,this.container)}return n.prototype.smartConsultEvent=function(n,e,o){e&&n&&n.addEventListener("click",function(n){n.preventDefault();var i=("test"===o?"https://www.toutiaopage.com/consult/external/page/?consult_id=":"https://isub.snssdk.com/consult/external/page/?consult_id=")+e+"&referrer_title="+encodeURIComponent(document.title),r=window._taq&&t(window._taq._get_basedata),c=window._taq&&t(window._taq.get_query_promise),s=r&&window._taq._get_basedata||c&&window._taq.get_query_promise,a=r&&s()||c&&s({event_type:"consult"}),u=a&&function(){try{var t=navigator.userAgent,n=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e=t.match(/os\s+(\d+)/i),o=e&&e[1];return n&&"11"===o}catch(t){return console.log(t),!1}}()&&/(News|NewsSocial|Explore|NewsArticle|NewsInHouse)/i.test(navigator.userAgent);u&&a.then(function(t){var n=t.log_extra,e=t.cid,o="sslocal://webview?category_name=profile_all&disable_hash=1&enter_from=click_profile_all&use_wk=1&url="+encodeURIComponent(i+"&position=tetris_page_wk")+"&ad_id="+encodeURIComponent(e)+"&log_extra="+encodeURIComponent(n);window.location.href=o}).catch(function(t){}),u||(window.location.href=i+"&position=tetris_page")})},n.prototype.OwnConsultEvent=function(t,n){t&&n&&t.addEventListener("click",function(t){t.preventDefault(),window.location.href=n})},n.prototype.init=function(t,n){var e=t.consultId,o=t.consultType,i=t.link,r=t.env;0===o?this.smartConsultEvent(n,e,r):1===o&&this.OwnConsultEvent(n,i)},n}();return function(){function t(){}return t.createConsultEvent=function(t,e){return new n(t,e)},t}()}();
